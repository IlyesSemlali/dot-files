#!/usr/bin/env bash

if [ -z $TMUX ]; then

	PROJECT=$(find $HOME/projects -maxdepth 1 -mindepth 1 -type l,d -exec basename {} \;  | sort | fzf --border-label='Projets')

	if tmux has-session -t $PROJECT 2>/dev/null; then
		tmux attach-session -t $PROJECT
	else
		tmux new-session -e PROJECT=$PROJECT -t $PROJECT -c $HOME/projects/$PROJECT
	fi
else
	echo "[Project-Switcher] You're already in a TMux Session, you hard worker !"
fi

